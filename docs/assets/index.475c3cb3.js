import{t as d,s as _,r as y,o as n,c as l,a as o,b as w,d as a,w as p,v as b,e as f,f as m,F as g,g as A}from"./vendor.058c9171.js";const k=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&u(h)}).observe(document,{childList:!0,subtree:!0});function c(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function u(e){if(e.ep)return;e.ep=!0;const s=c(e);fetch(e.href,s)}};k();var v=(t,r)=>{const c=t.__vccOpts||t;for(const[u,e]of r)c[u]=e;return c};const I={name:"StopWatch",props:{count:{type:Number,required:!0}},computed:{hours(){const t=Math.floor(this.count/3600);return t<10?`0${t}`:t},minutes(){const t=Math.floor(this.count/60-this.hours*60);return t<10?`0${t}`:t},seconds(){const t=this.count-this.hours*60*60-this.minutes*60;return t<10?`0${t}`:t}}};function T(t,r,c,u,e,s){return d(s.minutes)+":"+d(s.seconds)}var x=v(I,[["render",T]]);const S={name:"HomePage",components:{StopWatch:x},data(){return{count:0,random:-1,play:!1,buttonText:"Go",interval:3,timerInterval:"",ghostInterval:"",showArrows:!1,flickerTimeout:"",countdownInterval:"",beeps:!0,beepUrl:"/ghosting/beep.mp3",delayArrow:0}},computed:{fl(){return this.random>=0&&this.random<=1},fr(){return this.random>1&&this.random<=2},ml(){return this.random>2&&this.random<=3},mr(){return this.random>3&&this.random<=4},bl(){return this.random>4&&this.random<=5},br(){return this.random>5&&this.random<=6}},methods:{ghost(){clearInterval(this.ghostInterval),this.flickerArrows(),this.playBeep(),this.random=Math.random()*6,this.ghostInterval=setInterval(()=>{this.random=Math.random()*6,this.flickerArrows(),this.playBeep()},this.interval*1e3)},togglePlay(){if(this.play=!this.play,clearInterval(this.countdownInterval),clearInterval(this.timerInterval),clearInterval(this.ghostInterval),clearTimeout(this.flickerTimeout),this.play){this.playBeep(!0);let t=5;this.buttonText=t,setTimeout(()=>{this.showArrows=!1},4500),this.countdownInterval=setInterval(()=>{t>1?(t--,this.buttonText=t):(clearInterval(this.countdownInterval),this.buttonText="Stop",this.timerInterval=setInterval(()=>{this.count++},1e3),this.ghost())},1e3)}else this.buttonText="Go"},flickerArrows(){this.beeps?this.flickerTimeout=setTimeout(()=>{this.showArrows=!0},this.delayArrow):this.showArrows=!0,this.flickerTimeout=setTimeout(()=>{this.showArrows=!1},this.interval*1e3-500)},playBeep(t){if(!this.beeps)return;const r=document.querySelector("audio.beep");r.currentTime=0,r.volume=t?0:1,r.play()}},watch:{interval(){this.play&&this.togglePlay(),this.delayArrow>this.interval*1e3&&(this.delayArrow=this.interval*1e3)},delayArrow(){this.delayArrow>1e3&&(this.delayArrow=1e3)}},mounted(){const t=new _,r=()=>{t.enable(),document.removeEventListener("touchstart",r,!1)};document.addEventListener("touchstart",r,!1)}},N={class:"stopwatch"},B={class:"arrows"},L={key:0,class:"fl"},M={key:1,class:"fr"},P={key:2,class:"ml"},V={key:3,class:"mr"},O={key:4,class:"bl"},U={key:5,class:"br"},C={class:"play"},E={class:"beeps"},W=m(" Beeps "),q=["checked"],D=o("div",{class:"toggle"},null,-1),F={key:0,class:"delay-arrow-label"},G=m(" Delay arrows for "),H={class:"delay-arrow-input-wrapper"},K=o("span",{class:"ms"},"ms",-1),j=m(" after beeps "),z=["src"],J={class:"range"};function Q(t,r,c,u,e,s){const h=y("StopWatch");return n(),l(g,null,[o("div",N,[w(h,{count:e.count},null,8,["count"])]),o("div",B,[s.fl&&e.showArrows?(n(),l("div",L)):a("",!0),s.fr&&e.showArrows?(n(),l("div",M)):a("",!0),s.ml&&e.showArrows?(n(),l("div",P)):a("",!0),s.mr&&e.showArrows?(n(),l("div",V)):a("",!0),s.bl&&e.showArrows?(n(),l("div",O)):a("",!0),s.br&&e.showArrows?(n(),l("div",U)):a("",!0)]),o("div",C,[o("button",{onClick:r[0]||(r[0]=(...i)=>s.togglePlay&&s.togglePlay(...i))},d(e.buttonText),1)]),o("div",E,[o("label",null,[W,p(o("input",{"onUpdate:modelValue":r[1]||(r[1]=i=>e.beeps=i),type:"checkbox",name:"beeps",checked:e.beeps},null,8,q),[[b,e.beeps]]),D]),e.beeps?(n(),l("label",F,[G,o("div",H,[p(o("input",{"onUpdate:modelValue":r[2]||(r[2]=i=>e.delayArrow=i),type:"number",name:"delayArrow",class:"delay-arrow",step:"50",max:"1000"},null,512),[[f,e.delayArrow]]),K]),j])):a("",!0),o("audio",{class:"beep",src:e.beepUrl},null,8,z)]),o("div",J,[o("label",null,[m(" Interval: "+d(e.interval)+"s ",1),p(o("input",{"onUpdate:modelValue":r[3]||(r[3]=i=>e.interval=i),type:"range",name:"interval",id:"interval",min:"1",max:"10"},null,512),[[f,e.interval]])])])],64)}var R=v(S,[["render",Q]]);A(R).mount("#app");
